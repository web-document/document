(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{385:function(a,t,s){"use strict";s.r(t);var e=s(45),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"cordova-实践开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-实践开发"}},[a._v("#")]),a._v(" Cordova 实践开发")]),a._v(" "),s("h2",{attrs:{id:"简单认知-cordova"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简单认知-cordova"}},[a._v("#")]),a._v(" 简单认知 Cordova")]),a._v(" "),s("h3",{attrs:{id:"什么是-cordova"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是-cordova"}},[a._v("#")]),a._v(" 什么是 Cordova")]),a._v(" "),s("p",[a._v("官网：http://cordova.axuer.com/")]),a._v(" "),s("ul",[s("li",[a._v("一个移动应用开发框架")]),a._v(" "),s("li",[a._v("本质是 HTML、CSS、JavaScript 外面包装个原生的壳")]),a._v(" "),s("li",[a._v("出自于 Adobe 11 年收购的 PhoneGap，是驱动 PhoneGap 的核心引擎")]),a._v(" "),s("li",[a._v("是 Apache 的顶级开源项目")])]),a._v(" "),s("p",[a._v("Cordova 提供了一系列设备相关的 API，通过这组 API，移动应用能够以 JavaScript 访问原生的设备功能，如摄像头、麦克风。")]),a._v(" "),s("h2",{attrs:{id:"三种移动开发的分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三种移动开发的分类"}},[a._v("#")]),a._v(" 三种移动开发的分类")]),a._v(" "),s("h3",{attrs:{id:"常见的移动端开发的三大分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见的移动端开发的三大分类"}},[a._v("#")]),a._v(" 常见的移动端开发的三大分类")]),a._v(" "),s("p",[a._v("1、原生 App\n2、Web App\n3、混合 App（Hybrid App）")]),a._v(" "),s("h3",{attrs:{id:"cordova-的优缺点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-的优缺点"}},[a._v("#")]),a._v(" Cordova 的优缺点")]),a._v(" "),s("p",[a._v("优点：跨平台，便于移植，开发快速，成本低。\n缺点：执行速度相对原生会慢一些，一次编写，要处处调试。")]),a._v(" "),s("h2",{attrs:{id:"cordova-的架构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-的架构"}},[a._v("#")]),a._v(" Cordova 的架构")]),a._v(" "),s("p",[s("a",{attrs:{href:"http://cordova.axuer.com/static/img/guide/cordovaapparchitecture.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"http://cordova.axuer.com/static/img/guide/cordovaapparchitecture.png",alt:"Cordova架构"}}),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"http://cordova.axuer.com/static/img/guide/cordovaapparchitecture.png",target:"_blank",rel:"noopener noreferrer"}},[a._v("Cordova架构"),s("OutboundLink")],1)]),a._v(" "),s("ul",[s("li",[a._v("Web App：存放应用程序代码的地方，体现是你的具体业务逻辑模块。")]),a._v(" "),s("li",[a._v("WebView：给应用提供完整的用户访问呈现。")]),a._v(" "),s("li",[a._v("Cordova Plugins：提供了和原生组件通信的接口并绑定到了标准的设备 API,将来通过 JavaScript 来调用。")])]),a._v(" "),s("h2",{attrs:{id:"cordova-环境配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-环境配置"}},[a._v("#")]),a._v(" Cordova 环境配置")]),a._v(" "),s("h3",{attrs:{id:"cordova-在整个-app-领域中的位置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-在整个-app-领域中的位置"}},[a._v("#")]),a._v(" Cordova 在整个 App 领域中的位置")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8kSvJx.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://s2.ax1x.com/2020/03/11/8kSvJx.png",alt:"Cordova 在整个 App 领域中的位置"}}),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8kSvJx.png",target:"_blank",rel:"noopener noreferrer"}},[a._v("Cordova 在整个 App 领域中的位置"),s("OutboundLink")],1)]),a._v(" "),s("h3",{attrs:{id:"cordova-环境安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-环境安装"}},[a._v("#")]),a._v(" Cordova 环境安装")]),a._v(" "),s("p",[a._v("1、Git 的安装\n2、Node.js 的安装\n3、安装 Cordova Cli 下载并安装 Cordova 全局模块")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm install -g cordova  /  cnpm install -g cordova \nnpm install -g cordova --registry=https://registry.npm.taobao.org\ncnpm install -g cordova@8.1.2 // 安装指定版本\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("4、安装 Java JDK")]),a._v(" "),s("p",[a._v("下载地址：https://www.oracle.com/java/technologies/javase-downloads.html")]),a._v(" "),s("p",[a._v("查看版本："),s("strong",[a._v("java -version")])]),a._v(" "),s("p",[a._v("有关JDK的安装，参考：https://yiibai.com/java/java_environment_setup.html")]),a._v(" "),s("p",[a._v("5、安装 Android Studio 安装 Android SDK")]),a._v(" "),s("p",[a._v("官网地址：http://www.android-studio.org/")]),a._v(" "),s("p",[a._v("安装参考：https://www.yiibai.com/android/android_environment_setup.html")]),a._v(" "),s("h4",{attrs:{id:"环境相关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境相关"}},[a._v("#")]),a._v(" 环境相关")]),a._v(" "),s("ul",[s("li",[s("p",[s("a",{attrs:{href:"https://www.cnblogs.com/qirui/p/8421372.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("整体环境1"),s("OutboundLink")],1)])]),a._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://www.cnblogs.com/wenbinjiang/p/11776782.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("整体环境2"),s("OutboundLink")],1)])]),a._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://segmentfault.com/a/1190000020880025?utm_source=tag-newest",target:"_blank",rel:"noopener noreferrer"}},[a._v("整体环境3"),s("OutboundLink")],1)])]),a._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://blog.csdn.net/weixin_43765499/article/details/89142608",target:"_blank",rel:"noopener noreferrer"}},[a._v("整体环境4"),s("OutboundLink")],1)])]),a._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/89463566?from_voters_page=true",target:"_blank",rel:"noopener noreferrer"}},[a._v("整体环境--知乎"),s("OutboundLink")],1)])]),a._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://blog.csdn.net/qq_41995919/article/details/101369874",target:"_blank",rel:"noopener noreferrer"}},[a._v("整体环境--完整版"),s("OutboundLink")],1)])]),a._v(" "),s("li",[s("p",[s("a",{attrs:{href:"http://hexo.wbjiang.cn/gradle%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("gradle环境搭建"),s("OutboundLink")],1)])]),a._v(" "),s("li",[s("p",[s("a",{attrs:{href:"http://hexo.wbjiang.cn/jdk%E4%B8%8B%E8%BD%BD%E5%92%8C%E5%AE%89%E8%A3%85%E7%AE%80%E6%98%8E%E6%95%99%E7%A8%8B.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("java环境搭建"),s("OutboundLink")],1)])])]),a._v(" "),s("h2",{attrs:{id:"第一个应用程序的编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第一个应用程序的编译"}},[a._v("#")]),a._v(" 第一个应用程序的编译")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cordova --version // 查看 cordova 安装的版本\n10.0.0\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"创建项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[a._v("#")]),a._v(" 创建项目")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cordova create 项目名 com.公司名.项目名 类名（建议） // 创建一个空的Cordova项目\ncordova create cordovademo02 com.itying.cordova Cordovademo\n\ncordova create MyApp // 创建一个空的Cordova项目\ncordova help create // 要获得完整的选项集，请运行\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("cordova 创建项目报错解决方法：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("卸载 cordova npm uninstall -g cordova\n删掉 cordova 文件 npm\\node_modules\\cordova\nnpm install -g cordova --registry=https://registry.npm.taobao.org\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h3",{attrs:{id:"添加平台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加平台"}},[a._v("#")]),a._v(" 添加平台")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd MyApp\ncordova platform add android // 添加平台\ncordova platform // 获取完整的平台列表,请运行\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h3",{attrs:{id:"运行项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行项目"}},[a._v("#")]),a._v(" 运行项目")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cordova run android  \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("项目的 platforms 下 android目录 导入 android studio 进行运行调试 （或者运行 cordova run android）")]),a._v(" "),s("p",[a._v("创建项目的时候注意包名称：发布上线打包的时候用到包名称，注意")]),a._v(" "),s("p",[a._v("修改应用包名称参考：http://www.ionic.wang/article-index-id-91.html")]),a._v(" "),s("p",[a._v("1、修改 config.xml 里面的包名称")]),a._v(" "),s("p",[a._v("2、修改完成以后重新执行 cordova platform add android")]),a._v(" "),s("p",[a._v("修改项目后，运行 cordova prepare")]),a._v(" "),s("p",[a._v("实际编译 platforms \\android\\app\\src\\main\\assets\\www")]),a._v(" "),s("h3",{attrs:{id:"编译项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译项目"}},[a._v("#")]),a._v(" 编译项目")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cordova build android\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"打包报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包报错"}},[a._v("#")]),a._v(" 打包报错")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Checking Java JDK and Android SDK versions\nANDROID_SDK_ROOT=undefined (recommended setting)\nANDROID_HOME=F:\\software\\Android\\Sdk (DEPRECATED)\nCould not find an installed version of Gradle either in Android Studio,\nor on your system to install the gradle wrapper. Please include gradle\nin your path, or install Android Studio\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("方法一：")]),a._v(" "),s("p",[a._v("用 Android Studio 打开 Android 目录 进项打包。")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8AVUMR.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://s2.ax1x.com/2020/03/11/8AVUMR.png",alt:"用 Android Studio 打开打包"}}),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8AVUMR.png",target:"_blank",rel:"noopener noreferrer"}},[a._v("用 Android Studio 打开打包"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("包所在的位置：android\\app\\build\\outputs\\apk\\debug")]),a._v(" "),s("p",[a._v("方法二：")]),a._v(" "),s("p",[a._v("根据上面的报错信息可以得出\n1、没有找到 Gradle\n2、需要设置环境变量 ANDROID_SDK_ROOT\n3、Android SDK 在 F:\\software\\Android\\Sdk")]),a._v(" "),s("p",[a._v("如果不知道 Android SDK 在什么位置可以如下操作：")]),a._v(" "),s("p",[a._v("打开 Android Studio")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8kdum6.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://s2.ax1x.com/2020/03/11/8kdum6.png",alt:"查看 sdk 路径配置"}}),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8kdum6.png",target:"_blank",rel:"noopener noreferrer"}},[a._v("查看 sdk 路径配置"),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8kwZ4g.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://s2.ax1x.com/2020/03/11/8kwZ4g.png",alt:"查看 sdk 路径配置"}}),a._v("查看 sdk 路径配置"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("环境变量配置如下")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8AexGF.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://s2.ax1x.com/2020/03/11/8AexGF.png",alt:"环境变量配置"}}),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8AexGF.png",target:"_blank",rel:"noopener noreferrer"}},[a._v("环境变量配置"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("初次安装 Android Studio 时会安装 gradle")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8AQOaR.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://s2.ax1x.com/2020/03/11/8AQOaR.png",alt:"查看 gradle 目录"}}),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8AQOaR.png",target:"_blank",rel:"noopener noreferrer"}},[a._v("查看 gradle 目录"),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8AlsF1.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://s2.ax1x.com/2020/03/11/8AlsF1.png",alt:"查看 gradle 目录"}}),a._v("查看 gradle 目录"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("在上面路径基础上 + \\wrapper\\dists 你就会看到 gradle 的包了。\n例如：C:\\Users\\86183.gradle + \\wrapper\\dists")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8A31Cq.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://s2.ax1x.com/2020/03/11/8A31Cq.png",alt:"gradle包"}}),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8A31Cq.png",target:"_blank",rel:"noopener noreferrer"}},[a._v("gradle包"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("在系统变量中 path 下添加 gradle/bin 的路径")]),a._v(" "),s("p",[a._v("例如：C:\\Users\\86183.gradle\\wrapper\\dists\\gradle-5.6.4-all\\ankdp27end7byghfw1q2sw75f\\gradle-5.6.4\\bin")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8ADJYT.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://s2.ax1x.com/2020/03/11/8ADJYT.png",alt:"gradle"}}),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"https://s2.ax1x.com/2020/03/11/8ADJYT.png",target:"_blank",rel:"noopener noreferrer"}},[a._v("gradle"),s("OutboundLink")],1)]),a._v(" "),s("h2",{attrs:{id:"第一个项目的目录大致认知"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第一个项目的目录大致认知"}},[a._v("#")]),a._v(" 第一个项目的目录大致认知")]),a._v(" "),s("ul",[s("li",[a._v("config.xml 配置页，配置起始页项目名称等基础内容")]),a._v(" "),s("li",[a._v("hooks 存放一些自定义扩展功能")]),a._v(" "),s("li",[a._v("platforms 存放添加的 platform 运行时")]),a._v(" "),s("li",[a._v("plugins 存放引入的插件")]),a._v(" "),s("li",[a._v("www 开发的 HTML5 目录")])]),a._v(" "),s("p",[a._v("实际打包文件 ：platforms /android/app/src/main/assets/www")]),a._v(" "),s("h2",{attrs:{id:"cordova-事件的基本监听"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-事件的基本监听"}},[a._v("#")]),a._v(" Cordova 事件的基本监听")]),a._v(" "),s("h3",{attrs:{id:"cordova-插件和事件说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-插件和事件说明"}},[a._v("#")]),a._v(" Cordova 插件和事件说明")]),a._v(" "),s("p",[a._v("Cordova 对于设备功能的封装，都是以事件或插件体现的")]),a._v(" "),s("p",[a._v("插件即 plugin，封装了设备提供的功能，如摄像头、通讯录、GPS 等，他们是以自定义的 js 根对象或者覆盖标准对象的方式提供的，插件需要单独安装才能使用。")]),a._v(" "),s("h3",{attrs:{id:"cordova-事件概览"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-事件概览"}},[a._v("#")]),a._v(" Cordova 事件概览")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[a._v("事件名称")]),a._v(" "),s("th",{staticStyle:{"text-align":"left"}},[a._v("说明")])])]),a._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[a._v("deviceready")]),a._v(" "),s("td",{staticStyle:{"text-align":"left"}},[a._v("当 Cordova 加载完成后该事件被触发")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[a._v("pause")]),a._v(" "),s("td",{staticStyle:{"text-align":"left"}},[a._v("当应用程序被置于后台，则触发此事件")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[a._v("resume")]),a._v(" "),s("td",{staticStyle:{"text-align":"left"}},[a._v("当应用程序从后台返回，则触发此事件")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[a._v("backbutton")]),a._v(" "),s("td",{staticStyle:{"text-align":"left"}},[a._v("当按下后退按钮时，则触发此事件")])]),a._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[a._v("……")]),a._v(" "),s("td",{staticStyle:{"text-align":"left"}},[a._v("……")])])])]),a._v(" "),s("h3",{attrs:{id:"cordova-事件的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-事件的使用"}},[a._v("#")]),a._v(" Cordova 事件的使用")]),a._v(" "),s("p",[a._v("所有的事件调用方式类似，通过 js 进行事件监听即可（addEventListener）")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('document.addEventListener("deviceready", onDeviceReady,false);function onDeviceReady() {  document.addEventListener("pause", onPause, false);  document.addEventListener("resume", onResume, false);  document.addEventListener("menubutton", onMenuKeyDown, false);  //给其他事件添加类似的监听}\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"cordova-应用启动流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-应用启动流程"}},[a._v("#")]),a._v(" Cordova 应用启动流程")]),a._v(" "),s("p",[a._v("html 页面加载流程\n1、原生代码启动\n2、splashscreen\n3、load html\n4、顺序执行 JavaScript => cordova.js 也执行\n5、$(document).ready() 执行，cordova 中的事件不一定可用。\n6、注册 deviceready 事件")]),a._v(" "),s("p",[a._v("代码示例：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("/* * Cordova 对于设备 api 的封装，都是以 插件 和 事件 的方式体现的 * Cordova 中对于事件的监听，都类似 *//* * 1、deviceready 设备 api 准备就绪时，执行 * 基于设备 api 的一些底层事件 或方法，都要在 deviceready 事件调用完成后，执行 * 2、pause 当应用挂起进入后台时，调用执行 * 3、resume 当应用回到最前面时，调用执行 * 4、backbutton 当返回键被点击时，调用 *//* * deviceready 设备 api 准备就绪时，调用 * 参数1：事件名 * 参数2：回调函数 * 参数3：是否在捕获阶段执行，默认 false（冒泡阶段执行），直接默认即可 */// 等待是底层 cordova 相关的一些设备代码的加载\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'deviceready'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'设备api准备就绪, 可以进行其他方法的调用 或者 事件的监听'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 添加应用挂起监听")]),a._v("\n  document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'pause'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'应用程序被挂起了'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'resume'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'应用程序回来了'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'backbutton'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'返回键被点击了'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 输出日志内容到屏幕body中")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("msg")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" p "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'p'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("fontSize "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'14px'")]),a._v("\n  p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("innerHTML "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" msg\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 输出到 body 中")]),a._v("\n  document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br")])]),s("h2",{attrs:{id:"卸载插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#卸载插件"}},[a._v("#")]),a._v(" 卸载插件")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cordova plugin rm cordova-plugin-network-information\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"cordova-插件的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-插件的使用"}},[a._v("#")]),a._v(" Cordova 插件的使用")]),a._v(" "),s("h3",{attrs:{id:"设备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设备"}},[a._v("#")]),a._v(" 设备")]),a._v(" "),s("p",[a._v("1、安装插件")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cordova plugin add cordova-plugin-device\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"网络"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络"}},[a._v("#")]),a._v(" 网络")]),a._v(" "),s("p",[a._v("1、安装插件")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cordova plugin add cordova-plugin-network-information\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"设备位置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设备位置"}},[a._v("#")]),a._v(" 设备位置")]),a._v(" "),s("p",[a._v("1、安装插件")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cordova plugin add cordova-plugin-geolocation\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件"}},[a._v("#")]),a._v(" 文件")]),a._v(" "),s("p",[a._v("1、安装插件")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cordova plugin add cordova-plugin-file-transfer // 文件传输插件cordova plugin add cordova-plugin-file // 文件插件\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:""}},[s("a",{staticClass:"header-anchor",attrs:{href:"#"}},[a._v("#")])]),a._v(" "),s("h2",{attrs:{id:"config-xml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#config-xml"}},[a._v("#")]),a._v(" Config.xml")]),a._v(" "),s("p",[a._v("更改名称")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("<widget ...>  <name>HelloCordova</name></widget>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("更改描述")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("<widget ...>  <description>A sample Apache Cordova application</description></widget>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("更改图标")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('<widget ...>  <icon src="res/icon.png" /></widget>\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"cordova-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova-vue"}},[a._v("#")]),a._v(" cordova vue")]),a._v(" "),s("p",[a._v("把 vue 项目打包成 app：")]),a._v(" "),s("p",[a._v("1、npm run build （注意：图片 目录的路径）")]),a._v(" "),s("p",[a._v("2、把 vue 打包后的静态资源复制到 cordova 项目里面")]),a._v(" "),s("p",[a._v("3、运行 cordova prepare")]),a._v(" "),s("p",[a._v("注意：")]),a._v(" "),s("p",[a._v("vue init webpack-simple 项目名称")]),a._v(" "),s("p",[a._v("修改：webpack.config.js 里面 publicPath")]),a._v(" "),s("p",[a._v("把 publicPath：’/dist’’ 改为 publicPath：’dist/‘")]),a._v(" "),s("p",[a._v("修改 index 里面引入 dist 的路径 去掉前面的 / （重要）")]),a._v(" "),s("p",[a._v("vue init webpack 项目名称")]),a._v(" "),s("p",[a._v("修改：config/index.js 把 assetsPublicPath: ‘/‘, 修改成 assetsPublicPath: ‘./‘")]),a._v(" "),s("h2",{attrs:{id:"使用cordova打包vue项目的流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用cordova打包vue项目的流程"}},[a._v("#")]),a._v(" 使用Cordova打包vue项目的流程")]),a._v(" "),s("p",[a._v("目前使用Cordova的项目："),s("strong",[a._v("ai慧学、全朗e家，教师app")])]),a._v(" "),s("h3",{attrs:{id:"拉取最新项目代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拉取最新项目代码"}},[a._v("#")]),a._v(" 拉取最新项目代码")]),a._v(" "),s("blockquote",[s("p",[a._v("git pull")])]),a._v(" "),s("h3",{attrs:{id:"打包dist-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包dist-文件"}},[a._v("#")]),a._v(" 打包dist 文件")]),a._v(" "),s("blockquote",[s("p",[a._v("npm run sit")])]),a._v(" "),s("h3",{attrs:{id:"修改www文件夹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改www文件夹"}},[a._v("#")]),a._v(" 修改www文件夹")]),a._v(" "),s("p",[a._v("将打包好的dist文件夹里面的文件复制到Cordova项目www文件夹内")]),a._v(" "),s("h3",{attrs:{id:"打包安卓apk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包安卓apk"}},[a._v("#")]),a._v(" 打包安卓apk")]),a._v(" "),s("blockquote",[s("p",[a._v("cordova build android --release")]),a._v(" "),s("p",[a._v("//可以一起执行")]),a._v(" "),s("p",[a._v("sudo cordova build android --release && jarsigner -verbose -keystore webteacher -signedjar gfy_signed.apk /Users/it/code/teacher-app/webapp-teacher/platforms/android/app/build/outputs/apk/release/app-release-unsigned.apk key0")])]),a._v(" "),s("h4",{attrs:{id:"android签名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#android签名"}},[a._v("#")]),a._v(" android签名")]),a._v(" "),s("p",[a._v("https://ask.dcloud.net.cn/article/35777")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("cordova platform "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" android@6.2.0\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"解决报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决报错"}},[a._v("#")]),a._v(" 解决报错：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Error: Could not find gradle wrapper within Android SDK. Might need to update your Android SDK - Android\n\ncordova platform rm android\ncordova platform add android@6.2.0\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[s("a",{attrs:{href:"https://stackoverflow.com/questions/42613882/error-could-not-find-gradle-wrapper-within-android-sdk-might-need-to-update-yo",target:"_blank",rel:"noopener noreferrer"}},[a._v("参考链接"),s("OutboundLink")],1)]),a._v(" "),s("h4",{attrs:{id:"签名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#签名"}},[a._v("#")]),a._v(" 签名：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("cordova build android --release -- --keystore"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"..\\my-store\\gfy.keystore"')]),a._v(" --storePassword"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("123456")]),a._v(" --alias"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("gfy\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"生成签名证书"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成签名证书"}},[a._v("#")]),a._v(" 生成签名证书")]),a._v(" "),s("p",[a._v("使用keytool -genkey命令生成证书：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("复制代码keytool -genkey -alias testalias -keyalg RSA -keysize 2048 -validity 36500 -keystore test.keystore\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ul",[s("li",[a._v("testalias是证书别名，可修改为自己想设置的字符，建议使用英文字母和数字")]),a._v(" "),s("li",[a._v("test.keystore是证书文件名称，可修改为自己想设置的文件名称，也可以指定完整文件路径")]),a._v(" "),s("li",[a._v("36500是证书的有效期，表示100年有效期，单位天，建议时间设置长一点，避免证书过期")])]),a._v(" "),s("p",[a._v("给apk包签名，使用jarsigner工具的命令格式是：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("jarsigner的命令格式\n\njarsigner -verbose -keystore [您的私钥存放路径] -signedjar [签名后文件存放路径] [未签名的文件路径] [您的证书名称]\n\n#jarsigner的参数说明\n\n-keystore 参数指定您的私钥的绝对路径，例如：c:\\mykeystore\n-signedjar 参数指定签名后apk文件存放绝对的路径，例如 c:\\signed.apk\n[未签名的文件路径] 指定要签名apk文件的绝对路径，也就是您从我们这里下载到的，例如 c:\\unsigned.apk\n[您的证书名称] 是指您创建密钥时，您设置的证书名称\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br")])]),s("p",[a._v("参考："),s("a",{attrs:{href:"https://blog.csdn.net/qq_36267538/article/details/84971948",target:"_blank",rel:"noopener noreferrer"}},[a._v("使用jarsigner工具签名"),s("OutboundLink")],1),a._v("，"),s("a",{attrs:{href:"https://www.jianshu.com/p/53078d03c9bf",target:"_blank",rel:"noopener noreferrer"}},[a._v("Android-APK签名工具-jarsigner和apksigner"),s("OutboundLink")],1)]),a._v(" "),s("h3",{attrs:{id:"打包ios-ipa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包ios-ipa"}},[a._v("#")]),a._v(" 打包ios ipa")]),a._v(" "),s("blockquote",[s("p",[a._v("cordova build ios")])]),a._v(" "),s("p",[a._v("再运行xcode，打开Cordova ios 文件夹，在xcode执行一次build")]),a._v(" "),s("h3",{attrs:{id:"优化apk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优化apk"}},[a._v("#")]),a._v(" 优化apk：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("zipalign -v "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v(" android-release.apk.apk ai-learn.apk\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("strong",[a._v("阿里云镜像")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("maven{url 'http://maven.aliyun.com/nexus/content/groups/public/'}\n\nmaven{ url \"https://jitpack.io\"}\n\ngoogle()\n\njcenter()\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("p",[s("strong",[a._v("全朗e家打包命令（Android）")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo cordova build android --release && jarsigner -verbose -keystore gfy.keystore-signedjar gfy_praent.apk /Users/it/code/prod/parent-community_android/cordova-parent/platforms/android/app/build/outputs/apk/release/app-release-unsigned.apk gfy\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("strong",[a._v("教师app打包命令（Android）")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo cordova build android --release && jarsigner -verbose -keystore webteacher -signedjar gfy_signed.apk /Users/it/code/teacher-app/webapp-teacher/platforms/android/app/build/outputs/apk/release/app-release-unsigned.apk key0\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"问题解决记录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#问题解决记录"}},[a._v("#")]),a._v(" 问题解决记录")]),a._v(" "),s("h4",{attrs:{id:"cordova禁止横屏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cordova禁止横屏"}},[a._v("#")]),a._v(" cordova禁止横屏")]),a._v(" "),s("p",[a._v("https://blog.csdn.net/u010377383/article/details/77930198")]),a._v(" "),s("p",[a._v("在config.xml")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('<preference name="orientation" value="portrait" />\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"could-not-find-tools-jar-问题处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#could-not-find-tools-jar-问题处理"}},[a._v("#")]),a._v(" Could not find tools.jar 问题处理")]),a._v(" "),s("p",[a._v("Android 打包遇到")]),a._v(" "),s("div",{staticClass:"language-swift line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-swift"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Could")]),a._v(" not "),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("find")]),a._v(" tools"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("jar\n"),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Please")]),a._v(" check that "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Library")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Internet")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Plug")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Ins")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("JavaAppletPlugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("plugin"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Contents")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Home")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("contains")]),a._v(" a valid "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("JDK")]),a._v(" installation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h5",{attrs:{id:"解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[a._v("#")]),a._v(" 解决方案:")]),a._v(" "),s("p",[s("strong",[a._v("最简单的就直接把JDK文件夹中的tools.jar复制到了jre\\lib下")])]),a._v(" "),s("p",[a._v("1、首先查看地址")]),a._v(" "),s("div",{staticClass:"language-swift line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-swift"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 查看java版本")]),a._v("\njava "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("version\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 查看java安装路径")]),a._v("\njava "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("verbose\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 查看 JDK 位置的命令")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("libexec"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("java_home "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("V（升级 "),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("OSX11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.1")]),a._v(" 后，执行这个命令可能看到两个路径，一个是 "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("JDK")]),a._v(" 的实际路径，另一个是："),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Library")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Internet")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Plug")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Ins")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("JavaAppletPlugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("plugin"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Contents")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[a._v("Home")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("网上有资料说这个是 "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("JRE")]),a._v(" 的路径）。\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),s("p",[a._v("2、手动复制 tools.jar,下面第一个路径改为第一步获取的自己的路径")]),a._v(" "),s("div",{staticClass:"language-undefined line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo cp /Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home/lib/tools.jar /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("这里的版本号要替换成第一条指令查询到的版本，之后授权即可")]),a._v(" "),s("h4",{attrs:{id:"android高版本http网络请求失败的cordova配置处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#android高版本http网络请求失败的cordova配置处理"}},[a._v("#")]),a._v(" Android高版本http网络请求失败的Cordova配置处理")]),a._v(" "),s("p",[a._v("https://www.jianshu.com/p/12ab6718e81c")]),a._v(" "),s("p",[s("code",[a._v("cordovaApp\\platforms\\android\\app\\src\\main\\AndroidManifest.xml")]),a._v("的文件里添加如下代码")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("application")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("usesCleartextTraffic")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("true"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);